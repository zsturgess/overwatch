<section class="intro">
    <h1>View Test '{{ test.name }}'</h1>
</section>

<div class="widget-box">
    <div class="widget-header">
        Test Details
    </div>

    <div class="widget-content test-controls">
        <ul class="results">
            <li data-ng-repeat="result in test.results">
                <div class="result {{ result.status|lowercase }}">
                    <span title="{{ result.status|lowercase|ucfirst }}: {{ result.info }}">{{ result.info|strLimit:90 }}</span>
                    <a title="{{ result.createdAt*1000|date:'medium' }}">{{ result.createdAt|timeago }}</a>
                </div>
            </li>
        </ul>

        <div class="row">
            <a class="btn btn-grey" href="#/test/{{ test.id }}/edit" title="Edit test '{{ test.name }}'" data-ng-show="isGranted('ADMIN')"><i class="fa fa-pencil-square-o"></i> Edit test</a>
            <a class="btn btn-red" data-ng-click="removeTest(test.id)" title="Delete test '{{ test.name }}'" data-ng-show="isGranted('ADMIN')"><i class="fa fa-trash-o" aria-hidden="true"></i> Delete</a>
            <a class="btn btn-blue" data-ng-click="runTest(test.id)" title="Run test '{{ test.name }}' now" data-ng-show="isGranted('ADMIN')"><i class="fa fa-play" aria-hidden="true"></i> Run</a>
            <a class="btn btn-blue" data-ng-click="loadOlderResults()" title="Show older results" data-ng-show="(test.results.length === lastRequestedResultSize)"><i class="fa fa-eye"></i> Show older results</a>
        </div>
    </div>
</div>
